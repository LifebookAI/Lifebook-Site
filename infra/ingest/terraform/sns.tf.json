{
  "resource": {
    "aws_sns_topic_policy": {
      "lifebook_alerts_allow_cloudwatch": {
        "arn": "arn:aws:sns:us-east-1:354630286254:lifebook-alerts",
        "policy": "{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"AllowEventBridge\",\r\n      \"Effect\": \"Allow\",\r\n      \"Principal\": {\r\n        \"Service\": \"events.amazonaws.com\"\r\n      },\r\n      \"Action\": \"sns:Publish\",\r\n      \"Resource\": \"arn:aws:sns:us-east-1:354630286254:lifebook-alerts\",\r\n      \"Condition\": {\r\n        \"StringEquals\": {\r\n          \"aws:SourceAccount\": \"354630286254\"\r\n        },\r\n        \"ArnEquals\": {\r\n          \"aws:SourceArn\": [\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-cf-health-forward-alarms\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-cw-alarm-smoke-nightly\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-cw-alarms-synthetic\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-heartbeat-forward-alarms\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-heartbeat-forward-test\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-heartbeat-hourly\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-heartbeat-schedule\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-kms-decrypt-errors\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-prod-heartbeat-hourly\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-s3-vpce-canary-fail\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-rc-fail\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-sm-fail\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-tap\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-tap-any\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-tap-rc\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-ssm-tap-sm\",\r\n            \"arn:aws:events:us-east-1:354630286254:rule/lifebook-synthetic-hourly\"\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"Sid\": \"AllowCloudWatchAlarms\",\r\n      \"Effect\": \"Allow\",\r\n      \"Principal\": {\r\n        \"Service\": \"cloudwatch.amazonaws.com\"\r\n      },\r\n      \"Action\": \"sns:Publish\",\r\n      \"Resource\": \"arn:aws:sns:us-east-1:354630286254:lifebook-alerts\",\r\n      \"Condition\": {\r\n        \"StringEquals\": {\r\n          \"aws:SourceAccount\": \"354630286254\"\r\n        },\r\n        \"ArnEquals\": {\r\n          \"aws:SourceArn\": [\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/Lifebook-Events-lifebook-heartbeat-hourly-FailedInvocations-5m\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/Lifebook-Heartbeat-Events-FailedInvocations\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-cf-health-forward-alarms-FailedInvocations\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-events-lifebook-ssm-rc-fail-FailedInvocations-5m-1of1\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-events-lifebook-ssm-sm-fail-FailedInvocations-5m-1of1\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-heartbeat-forward-alarms-FailedInvocations\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-ssm-rc-fail-FailedInvocations>0\",\r\n            \"arn:aws:cloudwatch:us-east-1:354630286254:alarm/lifebook-ssm-sm-fail-FailedInvocations>0\"\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}"
      }
    }
  }
}
